window.addEventListener("DOMContentLoaded",()=>{f();let e=document.querySelector("header.header");if(document.body.style.paddingTop=e.offsetHeight+"px",window.addEventListener("resize",()=>{document.body.style.paddingTop=e.offsetHeight+"px"}),document.querySelectorAll(".dropdown").forEach(e=>function(e){let t=e.querySelector(".dropdown__title"),r=e.querySelectorAll(".dropdown__item");r.forEach(l=>{l.addEventListener("click",()=>{t.querySelector("span").textContent=l.textContent,r.forEach(e=>{e.classList.remove("_active")}),l.classList.add("_active"),e.classList.add("_active"),e.classList.remove("_open")})}),document.addEventListener("click",t=>{t.composedPath().includes(e)||e.classList.remove("_open")}),t.addEventListener("click",()=>{e.classList.toggle("_open")})}(e)),document.querySelector(".cart")){document.querySelector(".cart").querySelectorAll(".products__item").forEach(e=>{t(e)})}if(document.querySelector(".card")){let e=document.querySelector(".card"),r=e.querySelector(".card__left > span");t(e.querySelector(".card__count"),r.textContent)}function t(e,t=10,r=1){let l=e.querySelector("._plus"),s=e.querySelector("._minus");l.addEventListener("click",()=>{let l=e.querySelector(".count__value"),s=l.value;s++,l.value=s,s>t&&(l.value=t),s<r&&(l.value=r)}),s.addEventListener("click",()=>{let l=e.querySelector(".count__value"),s=l.value;s--,l.value=s,s>t&&(l.value=t),s<r&&(l.value=r)})}let r=document.querySelector(".cart__icon");if(r){let e=r.querySelector("span");e.addEventListener("DOMSubtreeModified",()=>{e.textContent.length>0?e.classList.add("_active"):e.classList.remove("_active")})}function l(e){return e.checked?(e.parentNode.classList.remove("_error"),!0):(e.parentNode.classList.add("_error"),e.scrollIntoView({behavior:"smooth",block:"center"}),!1)}function s(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?(e.parentNode.classList.remove("_error"),!0):(e.parentNode.classList.add("_error"),e.scrollIntoView({behavior:"smooth",block:"center"}),!1)}function o(e,t,r=1){return(t+="").length<r?(e.parentNode.classList.add("_error"),e.scrollIntoView({behavior:"smooth",block:"center"}),!1):(e.parentNode.classList.remove("_error"),!0)}function i(e){if(4==(e+="").length){let t=e.slice(0,1),r=e.slice(-3);e=t+"."+r}else if(5==e.length){let t=e.slice(0,-3),r=e.slice(-3);e=t+"."+r}else if(6==e.length){let t=e.slice(0,-3),r=e.slice(-3);e=t+"."+r}else if(7==e.length){let t=e.slice(0,1),r=e.slice(1,-3),l=e.slice(-3);e=t+"."+r+"."+l}return e}document.querySelectorAll(".radio").forEach(e=>{!function(e){let t=e.querySelectorAll(".radio__item");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(e=>{e.classList.remove("_active")}),e.classList.add("_active")})})}(e)}),$(".startpage__slider .slick").slick({arrows:!1,infinite:!1,speed:500,mobileFirst:!0,responsive:[{breakpoint:1366,settings:{arrows:!0,appendArrows:$(".startpage"),prevArrow:'<button class="_prev"> <i class="icon-arrow-left"></i> </button>',nextArrow:'<button class="_next"> <i class="icon-arrow-right"></i> </button>'}}]}),$(".partners__slider .slick").slick({appendArrows:$(".partners__toggle"),prevArrow:'<button class="_prev"> <i class="icon-arrow-left"></i> </button>',nextArrow:'<button class="_next"> <i class="icon-arrow-right"></i> </button>',infinite:!1,speed:500,mobileFirst:!0}),window.matchMedia("(max-width: 1366px)").matches&&($(".marketplace__slider .slick").slick({dots:!0,dotsClass:"slider__dots",appendArrows:$(".marketplace__toggle"),prevArrow:'<button class="_prev"> <i class="icon-arrow-left"></i> </button>',nextArrow:'<button class="_next"> <i class="icon-arrow-right"></i> </button>',infinite:!1,speed:500,mobileFirst:!0}),$(".work__slider._steps .slick").slick({dots:!0,dotsClass:"slider__dots",appendArrows:$(".work__toggle"),prevArrow:'<button class="_prev"> <i class="icon-arrow-left"></i> </button>',nextArrow:'<button class="_next"> <i class="icon-arrow-right"></i> </button>',infinite:!1,speed:500,mobileFirst:!0})),$(".work__slider._examples .slick").slick({dots:!0,dotsClass:"slider__dots",arrows:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,mobileFirst:!0,responsive:[{breakpoint:767.8,settings:{slidesToShow:3}}]}),$(".production__slider .slick").slick({dots:!0,dotsClass:"slider__dots",appendArrows:$(".production__toggle"),prevArrow:'<button class="_prev"> <i class="icon-arrow-left"></i> </button>',nextArrow:'<button class="_next"> <i class="icon-arrow-right"></i> </button>',infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,mobileFirst:!0,responsive:[{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:1366,settings:{slidesToShow:3}}]}),$(".card__slider .slick").slick({dots:!0,dotsClass:"slider__dots card__dots",arrows:!1,speed:500}),$(".card__carousel  .slick").slick({dots:!0,dotsClass:"slider__dots card__dots",arrows:!1,speed:500,slidesToShow:2,mobileFirst:!0,responsive:[{breakpoint:767,settings:{slidesToShow:3}},{breakpoint:1366,settings:{slidesToShow:4}}]}),document.querySelectorAll(".feedback").forEach(e=>{let t=e.querySelectorAll(".feedback__input"),r=e.querySelector(".feedback #phone"),i=e.querySelector(".feedback__input#email"),c=e.querySelector(".feedback__btn "),n=e.querySelector(".feedback__checkbox input"),a=!1;$(r).mask("+7 (999) 999 99 99"),t.forEach(e=>{e.addEventListener("input",()=>{o(e,e.value)})}),i.addEventListener("input",()=>{s(i)}),c.addEventListener("click",()=>{a=!0,t.forEach(e=>{o(e,e.value),!o(e,e.value)&&(a=!1),s(i),!s(i)&&(a=!1),l(n),!l(n)&&(a=!1)}),a&&alert("Success")})}),document.querySelectorAll(".filter").forEach(e=>{let t=e.querySelector(".filter__item._availability"),r=t.querySelectorAll(".filter__checkbox"),l=t.querySelector(".filter__reset"),s=e.querySelector(".filter__item._price"),o=s.querySelector(".filter__reset"),c=(s.querySelectorAll(".filter__input"),s.querySelector(".filter__field._min input")),n=s.querySelector(".filter__field._max input");function a(){r.forEach(e=>{e.querySelector("input").checked=!1}),s.querySelectorAll(".filter__input").forEach(e=>{e.value=""})}filterValues=e.querySelector(".filter__values > span"),filterApply=e.querySelector(".filter__btn._apply"),filterBtn=e.querySelector(".filter__btn"),filterMenu=e.querySelector(".filter__menu"),filterClose=e.querySelector(".filter__close"),filterClearBtn=e.querySelector(".filter__btn._clear"),filterClear=null,l.addEventListener("click",()=>{t.querySelectorAll(".filter__checkbox input").forEach(e=>{e.checked=!1})}),o.addEventListener("click",()=>{s.querySelectorAll(".filter__input").forEach(e=>{e.value=""})}),filterApply.addEventListener("click",()=>{filterValues.innerHTML="",filterValues.parentNode.querySelector("h6")&&filterValues.parentNode.querySelector("h6").remove(),filterMenu.classList.remove("_active"),r.forEach(e=>{e.querySelector("input").checked&&(text=e.querySelector("label h4").textContent,filterValues.insertAdjacentHTML("beforeend",`\n                    <h6>\n                        <span>${text}</span>\n                        <button class="filter__delete">\n                            <i class="icon-close"></i>\n                        </button>\n                    </h6>\n                    `))}),(c.value.length>0||n.value.length>0)&&(c.value.length<1&&(c.value=0),n.value.length<1&&(n.value=n.getAttribute("placeholder")),filterValues.insertAdjacentHTML("beforeend",`\n                <h6>\n                    <span>\n                        ${i(c.value)} - ${i(n.value)} руб.\n                    </span>\n                    <button class="filter__delete">\n                        <i class="icon-close"></i>\n                    </button>\n                </h6>\n                `)),filterValues.parentNode.insertAdjacentHTML("beforeend",'\n                <h6 class="filter__clear">Очистить</h6>\n            '),filterClear=e.querySelector(".filter__clear"),filterClear.addEventListener("click",()=>{a(),filterValues.parentNode.innerHTML=""}),e.querySelectorAll(".filter__delete").forEach(e=>{e.addEventListener("click",()=>{e.parentNode.remove(),filterValues.textContent.replace(/[^0-9]/g,"").length<1&&filterClear.remove()})})}),filterBtn.addEventListener("click",()=>{filterMenu.classList.toggle("_active")}),filterClearBtn.addEventListener("click",a),filterClose.addEventListener("click",()=>{filterMenu.classList.remove("_active")})});let c=document.querySelectorAll(".search");c.length>0&&c.forEach(e=>{let t=e.querySelector(".search__btn"),r=(e.querySelector(".search__wrapper"),e.querySelector(".search__field"),e.querySelector(".search__input")),l=e.querySelector(".search__close");r.addEventListener("input",()=>{r.value.length>0?e.classList.add("_results"):e.classList.remove("_results")}),t&&t.addEventListener("click",()=>{e.classList.add("_active")}),l&&l.addEventListener("click",()=>{r.value="",e.classList.remove("_results")})});let n=document.querySelector(".header .search");if(n){let e=n.querySelector(".search__btn"),t=n.querySelector(".search__field"),r=n.querySelector(".search__wrapper");e.addEventListener("click",()=>{console.log("jh"),document.querySelector("html").style.overflow="hidden"}),r.addEventListener("click",r=>{r.composedPath().includes(t)&&!r.composedPath().includes(e)||(n.classList.remove("_active"),document.querySelector("html").style.overflow="")})}let a=window.screen.height,d=window.screen.width,u=document.querySelector(".up");bottom=document.querySelector(".bottom"),window.addEventListener("scroll",()=>{window.pageYOffset>0?e.classList.add("_scroll"):e.classList.remove("_scroll"),window.pageYOffset>a?bottom.classList.add("_active"):bottom.classList.remove("_active")}),u.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.matchMedia("(min-width: 1366px)").matches&&(bottom.style.right=(d-1*getComputedStyle(document.body).getPropertyValue("--containerWidth").split("px")[0])/2+"px");let _=e.querySelector(".header__menu"),p=e.querySelector(".header__burger"),v=e.querySelector(".menu__close");function f(){window.matchMedia("(min-width: 1366px)").matches,window.matchMedia("(max-width: 768px)").matches,window.matchMedia("(max-width: 360px)").matches}p.addEventListener("click",()=>{_.classList.toggle("_active"),p.classList.toggle("_active"),_.classList.contains("_active")&&(document.body.style.overflow="hidden")}),document.addEventListener("click",e=>{e.composedPath().includes(_)||e.composedPath().includes(p)||(_.classList.remove("_active"),p.classList.remove("_active"),document.body.style.overflow="")}),v&&v.addEventListener("click",()=>{_.classList.remove("_active"),p.classList.remove("_active"),document.body.style.overflow=""}),window.addEventListener("resize",f)});